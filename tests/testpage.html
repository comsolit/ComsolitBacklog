<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title></title>
    <script type="text/javascript" src="../files/angular/angular.js"></script>
    <script type="text/javascript" src="../files/comsolitbacklog.js"></script>
    <style>
      .comsolitbldragover td {
        border-bottom: 2em solid red;
      }

      .comsolitbldragged {
        opacity: 0.4;
      }

    </style>
  </head>

  <body ng-app="comsolitBacklog" ng-controller="comsolitBacklogCtrl">

    <h1>prioritized items</h1>
    <div>
      <table style="width:100%" cellspacing="1">
        <tbody>
          <tr comsolitbldroppable>
            <td colspan="99" style="min-heigth:2em;background-color:grey">first line</td>
          </tr>
        </tbody>

        <tbody>
          <tr style="background-color:green" ng-repeat="item in backlog['items']|prioritizedItems:true|orderBy:'backlog_position'" comsolitbldraggable comsolitbldroppable draggable="true" data-id="{{item.id}}">
            <td ng-bind="item.id"></td>
            <td ng-bind="item.summary"></td>
            <td ng-bind="item.backlog_position"></td>
            <td><button ng-click="backlog.removeItem(item.id)">remove</butto<n</td>
          </tr>
        </tbody>

      </table
    </div>

    <h1>unprioritized items</h1>
    <div>
      <table style="width:100%">
        <tbody>
          <tr style="background-color:green" ng-repeat="item in backlog['items']|prioritizedItems:false" comsolitbldraggable draggable="true" data-id="{{item.id}}">
            <td ng-bind="item.id"></td>
            <td ng-bind="item.summary"></td>
            <td ng-bind="item.backlog_position"></td>
            <td><button ng-click="backlog.moveItem(item.id)">to first position</butto<n</td>
          </tr>
        </tbody>
      </table
    </div>


    <script class="embedded-json-data" data-name="backlogItems" type="text/json">
      [
        {"id": 1, "backlog_position": 1, "summary": "hallo welt 1"},
        {"id": 2, "backlog_position": 2, "summary": "hallo welt 2"},
        {"id": 3, "backlog_position": 3, "summary": "hallo welt 3"},
        {"id": 4, "backlog_position": 4, "summary": "hallo welt 4"},
        {"id": 5, "backlog_position": 0, "summary": "hallo welt 5"},
        {"id": 6, "backlog_position": 0, "summary": "hallo welt 6"}
      ]
    </script>
  </body>
</html>
